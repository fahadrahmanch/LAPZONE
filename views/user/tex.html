<!-- Coupon Section -->
<div class="coupon_section mb-4">
  <label for="couponSelect">Apply Coupon</label>
  <div class="input-group">
      <select id="couponSelect" class="form-control">
          <option value="" selected>Select a coupon</option>
          <option value="SAVE10">SAVE10 - 10% off</option>
          <option value="SAVE20">SAVE20 - 20% off</option>
      </select>
      <button id="couponButton" class="btn btn-md btn-black-default-hover" type="button">Apply</button>
  </div>
  <small id="couponFeedback" class="mt-2 d-block"></small>
</div>

<script>
  const couponSelect = document.getElementById("couponSelect");
  const couponButton = document.getElementById("couponButton");
  const couponFeedback = document.getElementById("couponFeedback");

  let isCouponApplied = false; // Tracks if a coupon is applied

  couponButton.addEventListener("click", () => {
      const selectedCoupon = couponSelect.value; // Get the selected coupon

      if (!isCouponApplied) {
          // Apply Coupon Logic
          if (!selectedCoupon) {
              couponFeedback.textContent = "Please select a coupon.";
              couponFeedback.className = "text-danger";
              return;
          }

          // Coupon applied successfully
          couponFeedback.textContent = `Coupon "${selectedCoupon}" applied successfully!`;
          couponFeedback.className = "text-success";
          couponButton.textContent = "Remove"; // Change button to Remove
          isCouponApplied = true;
          couponSelect.disabled = true; // Disable dropdown
      } else {
          // Remove Coupon Logic
          couponFeedback.textContent = ""; // Clear feedback
          couponButton.textContent = "Apply"; // Change button to Apply
          isCouponApplied = false;
          couponSelect.disabled = false; // Re-enable dropdown
          couponSelect.value = ""; // Reset dropdown to default option
          couponSelect.selectedIndex = 0; // Ensure visual reset
      }
  });
</script>
